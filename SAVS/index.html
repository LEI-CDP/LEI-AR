<html>
	<script src="Scripts/aframe.min.js"></script>
	<script src="Scripts/aframe-ar.js"></script>
	<script src="Scripts/aframe-extras.min.js"></script>
	<script>
		var playing = false;
		var intro = new Audio("speech.mp3");
		intro.addEventListener("ended",function(){intro.currentTime=0; playing=false;});
		AFRAME.registerComponent('markerhandler', {init: function() {this.tick = AFRAME.utils/throttleTick(this.tick, 500, this);},
							   tick: function(t, dt){
								   if (document.querySelector("#F1").object3D.visible == true && playing == false) {
	
			intro.play();
			playing = true;
		} else {
		}

	}
});
	</script>
	
	
	<body style='margin : 0px; overflow: hidden;'>
		<a-scene renderer='gammaOutput: true' vr-mode-ui='enabled: true' embedded arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;'>
			<a-assets>				
				<img id="text" src="Objects/text.png">					
			</a-assets>			
			<a-marker id="F1" preset='custom' type='pattern' response-type='arraybuffer' url='Markers/Marker.patt'>
			<a-image src="#text" width="10" height="10" rotation="-90 0 0" position="0 0 0"></a-image>
			</a-marker>	
			<a-entity id="rig" position="0 0 0"><a-entity camera></a-entity></a-entity>			
		</a-scene>		
	</body>
</html>
